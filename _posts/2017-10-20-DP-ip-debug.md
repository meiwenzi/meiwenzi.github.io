---
layout: post_layout
title: ALtera DP RX 调试
time: 2017年10月20日 星期五
location: 苏州
pulished: true
excerpt_separator: "```"
---
以台式机的DP口作为source，开发板作为sink，调试Altera DP IP 的RX。
如果不使用FMC 子卡，RX Cable Detect 设置为高电平，RX Power Detect 设置为低电平。
```
    .fmca_la_tx_p_10(1'd1),            // RX Cable Detect
    .fmca_la_rx_n_8(1'd0),             // RX Power Detect (invert)
```
调试时，training 过程容易出现问题，不同情况training 过程打印信息如下：
# 1 没有Fast link training

```
yupc@LAPTOP-KVT1COMT /cygdrive/d/8k4k/PRJ/t17_a10_dp_vip_std_project/script
$ ./rerun.sh

Info: *******************************************************************
Info: Running Quartus Prime Programmer
Info: Command: quartus_pgm --no_banner --mode=jtag -o p;D:/8k4k/PRJ/output_files/sg245.sof@1
Info (213045): Using programming cable "USB-Blaster [USB-0]"
Info (213011): Using programming file D:/8k4k/PRJ/output_files/sg245.sof with checksum 0x0E1AD4F1 for device 10AX027H4F34@1
Info (209060): Started Programmer operation at Fri Oct 20 13:45:30 2017
Info (209016): Configuring device index 1
Info (209017): Device 1 contains JTAG ID code 0x02EE30DD
Info (209007): Configuration succeeded -- 1 device(s) configured
Info (209011): Successfully performed operation(s)
Info (209061): Ended Programmer operation at Fri Oct 20 13:46:46 2017
Info: Quartus Prime Programmer was successful. 0 errors, 0 warnings
    Info: Peak virtual memory: 717 megabytes
    Info: Processing ended: Fri Oct 20 13:46:46 2017
    Info: Elapsed time: 00:01:20
    Info: Total CPU time (on all processors): 00:00:05
Using cable "USB-Blaster [USB-0]", device 1, instance 0x00
Resetting and pausing target processor: OK
Initializing CPU cache (if present)
OK
Downloaded 88KB in 3.8s (23.1KB/s)
Verified OK
Starting processor at address 0x00020184
nios2-terminal: connected to hardware target using JTAG UART on cable
nios2-terminal: "USB-Blaster [USB-0]", device 1, instance 0
nios2-terminal: (Use the IDE stop button or Ctrl-C to terminate)

Started...
TX init
RX init
EDID SEND
HPD=0
HPD=1
00000000 [SNK] Req got    AUX_WR @ 0600 (DPCD) 80 06 00 00 01
00000308 [SNK] Reply sent AUX_ACK 00
00000192 [SNK] Req got    AUX_RD @ 0000 (DPCD_REV) 90 00 00 00
00000273 [SNK] Reply sent AUX_ACK 00 12
00000206 [SNK] Req got    AUX_RD @ 0021 ( ) 90 00 21 00
00000271 [SNK] Reply sent AUX_ACK 00 00
00000204 [SNK] Req got    AUX_RD @ 0111 ( ) 90 01 11 00
00000285 [SNK] Reply sent AUX_ACK 00 00
00000205 [SNK] Req got    AUX_WR @ 0111 ( ) 80 01 11 00 04
00000325 [SNK] Reply sent AUX_ACK 00
00000189 [SNK] Req got    AUX_RD @ 0500 ( ) 90 05 00 07
00000318 [SNK] Reply sent AUX_ACK 00 00 00 00 00 00 00 00 00
00000997 [SNK] Req got    AUX_RD @ 0600 (DPCD) 90 06 00 00
00000293 [SNK] Reply sent AUX_ACK 00 01
00000206 [SNK] Req got    AUX_WR @ 0600 (DPCD) 80 06 00 00 01
00000309 [SNK] Reply sent AUX_ACK 00
00000189 [SNK] Req got    AUX_RD @ 0000 (DPCD_REV) 90 00 00 0D
00000317 [SNK] Reply sent AUX_ACK 00 12 14 C4 01 01 01 01 80 02 00 06 00 00 00
00000415 [SNK] Req got    AUX_RD @ 000E ( ) 90 00 0E 00
00000273 [SNK] Reply sent AUX_ACK 00 00
00000213 [SNK] Req got    I2C_WR MOT=1 40 00 50
00000181 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000136 [SNK] Req got    I2C_WR MOT=1 40 00 50 00 00
00000222 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000135 [SNK] Req got    I2C_RD MOT=1 50 00 50
00000181 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000134 [SNK] Req got    I2C_RD MOT=1 50 00 50 03
00000213 [SNK] Reply sent AUX_ACK|I2C_ACK 00 00 FF FF FF
00000197 [SNK] Req got    I2C_RD MOT=0 10 00 50
00000180 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000222 [SNK] Req got    I2C_WR MOT=1 40 00 50
00000180 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000135 [SNK] Req got    I2C_WR MOT=1 40 00 50 00 00
00000222 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000134 [SNK] Req got    I2C_RD MOT=1 50 00 50
00000180 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000134 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000242 [SNK] Reply sent AUX_ACK|I2C_ACK 00 00 FF FF FF FF FF FF 00 4C 2D 80 0B 00 00 00 00
00000393 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000241 [SNK] Reply sent AUX_ACK|I2C_ACK 00 34 17 01 04 B5 3D 23 78 00 5F B1 A2 57 4F A2 28
00000393 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000242 [SNK] Reply sent AUX_ACK|I2C_ACK 00 0F 50 54 00 01 00 81 0F 81 19 81 80 81 8F A9 C0
00000393 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000241 [SNK] Reply sent AUX_ACK|I2C_ACK 00 B3 00 95 00 D1 00 4D D0 00 A0 F0 70 3E 80 30 20
00000393 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000241 [SNK] Reply sent AUX_ACK|I2C_ACK 00 35 00 5F 59 21 00 00 1A 26 68 00 A0 F0 70 3E 80
00000393 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000241 [SNK] Reply sent AUX_ACK|I2C_ACK 00 30 20 35 00 5F 59 21 00 00 1A 00 00 00 FD 00 38
00000393 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000241 [SNK] Reply sent AUX_ACK|I2C_ACK 00 78 1E 86 36 00 0A 20 20 20 20 20 20 00 00 00 FC
00000393 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000241 [SNK] Reply sent AUX_ACK|I2C_ACK 00 00 55 32 38 44 35 39 30 0A 20 20 20 20 20 00 E3
00000391 [SNK] Req got    I2C_RD MOT=0 10 00 50
00000181 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000354 [SNK] Req got    AUX_RD @ 0200 (SINK_COUNT) 90 02 00 00
00000281 [SNK] Reply sent AUX_ACK 00 01
00000228 [SNK] Req got    AUX_RD @ 0201 (DEVICE_SERVICE_IRQ_VECTOR) 90 02 01 00
00000296 [SNK] Reply sent AUX_ACK 00 00
00000206 [SNK] Req got    AUX_RD @ 68028 ( ) 96 80 28 00
00000288 [SNK] Reply sent AUX_ACK 00 00
00000203 [SNK] Req got    AUX_RD @ 6921D ( ) 96 92 1D 02
00000308 [SNK] Reply sent AUX_ACK 00 00 00 00
00000239 [SNK] Req got    AUX_RD @ 68028 ( ) 96 80 28 00
00000288 [SNK] Reply sent AUX_ACK 00 00
00000310 [SNK] Req got    I2C_WR MOT=1 40 00 40
00000182 [SNK] Reply sent AUX_ACK|I2C_NACK 40
00000136 [SNK] Req got    I2C_WR MOT=1 40 00 40 00 00
00000219 [SNK] Reply sent AUX_ACK|I2C_NACK 40
00000134 [SNK] Req got    I2C_RD MOT=1 50 00 40
00000181 [SNK] Reply sent AUX_ACK|I2C_NACK 40
00000132 [SNK] Req got    I2C_RD MOT=0 10 00 40
00000182 [SNK] Reply sent AUX_ACK|I2C_NACK 40
02009223 [SNK] Req got    AUX_RD @ 0000 (DPCD_REV) 90 00 00 00
00000273 [SNK] Reply sent AUX_ACK 00 12
-10498341 [SNK] Req got    AUX_RD @ 0600 (DPCD) 90 06 00 00
00000292 [SNK] Reply sent AUX_ACK 00 01
00000194 [SNK] Req got    AUX_WR @ 0600 (DPCD) 80 06 00 00 01
00000308 [SNK] Reply sent AUX_ACK 00
00006216 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000285 [SNK] Reply sent AUX_ACK 00 01
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 81
00000316 [SNK] Reply sent AUX_ACK 00
00001360 [SNK] Req got    AUX_WR @ 0100 (LINK_BW_SET) 80 01 00 00 14
00000320 [SNK] Reply sent AUX_ACK 00
00000130 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000286 [SNK] Reply sent AUX_ACK 00 81
00000146 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000316 [SNK] Reply sent AUX_ACK 00
00000159 [SNK] Req got    AUX_WR @ 0102 (TRAINING_PATTERN_SET) 80 01 02 00 21
00000313 [SNK] Reply sent AUX_ACK 00
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 00 00 00 00
00000363 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000179 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000358 [SNK] Reply sent AUX_ACK 00 11
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000355 [SNK] Reply sent AUX_ACK 00 11
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 01 01 01 01
00000363 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000346 [SNK] Reply sent AUX_ACK 00 11 11 80
00000180 [SNK] Req got    AUX_WR @ 0102 (TRAINING_PATTERN_SET) 80 01 02 00 23
00000313 [SNK] Reply sent AUX_ACK 00
00000131 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 01 01 01 01
00000362 [SNK] Reply sent AUX_ACK 00
00000932 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000348 [SNK] Reply sent AUX_ACK 00 77 77 81
00000179 [SNK] Req got    AUX_WR @ 0102 (TRAINING_PATTERN_SET) 80 01 02 00 00
00000313 [SNK] Reply sent AUX_ACK 00
01010010 [SNK] Req got    AUX_RD @ 0200 (SINK_COUNT) 90 02 00 05
00000446 [SNK] Reply sent AUX_ACK 00 01 00 00 00 80 00
00000283 [SNK] Req got    AUX_RD @ 0201 (DEVICE_SERVICE_IRQ_VECTOR) 90 02 01 00
00000296 [SNK] Reply sent AUX_ACK 00 00
00000146 [SNK] Req got    AUX_RD @ 0200 (SINK_COUNT) 90 02 00 00
00000281 [SNK] Reply sent AUX_ACK 00 01
00000146 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0205 (SINK_STATUS) 90 02 05 00
00000341 [SNK] Reply sent AUX_ACK 00 00
01817681 [SNK] Req got    AUX_RD @ 0000 (DPCD_REV) 90 00 00 00
00000273 [SNK] Reply sent AUX_ACK 00 12
00502951 [SNK] Req got    AUX_RD @ 0600 (DPCD) 90 06 00 00
00000292 [SNK] Reply sent AUX_ACK 00 01
00000147 [SNK] Req got    AUX_WR @ 0600 (DPCD) 80 06 00 00 01
00000308 [SNK] Reply sent AUX_ACK 00
00000626 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000285 [SNK] Reply sent AUX_ACK 00 84
00000146 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000316 [SNK] Reply sent AUX_ACK 00
00001335 [SNK] Req got    AUX_WR @ 0100 (LINK_BW_SET) 80 01 00 00 14
00000320 [SNK] Reply sent AUX_ACK 00
00000130 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000285 [SNK] Reply sent AUX_ACK 00 84
00000146 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000316 [SNK] Reply sent AUX_ACK 00
00000131 [SNK] Req got    AUX_WR @ 0102 (TRAINING_PATTERN_SET) 80 01 02 00 21
00000313 [SNK] Reply sent AUX_ACK 00
00000131 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 00 00 00 00
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000343 [SNK] Reply sent AUX_ACK 00 00 00 80
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000354 [SNK] Reply sent AUX_ACK 00 22
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000355 [SNK] Reply sent AUX_ACK 00 22
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 06 06 06 06
00000363 [SNK] Reply sent AUX_ACK 00
00000330 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000346 [SNK] Reply sent AUX_ACK 00 11 11 80
00000180 [SNK] Req got    AUX_WR @ 0102 (TRAINING_PATTERN_SET) 80 01 02 00 23
00000313 [SNK] Reply sent AUX_ACK 00
00000131 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 06 06 06 06
00000362 [SNK] Reply sent AUX_ACK 00
00000931 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000348 [SNK] Reply sent AUX_ACK 00 77 77 81
00000179 [SNK] Req got    AUX_WR @ 0102 (TRAINING_PATTERN_SET) 80 01 02 00 00
00000313 [SNK] Reply sent AUX_ACK 00
```

# 2 使用Fast link training 

```
yupc@LAPTOP-KVT1COMT /cygdrive/d/8k4k/PRJ/t17_a10_dp_vip_std_project/script
$ ./rerun.sh

Info: *******************************************************************
Info: Running Quartus Prime Programmer
Info: Command: quartus_pgm --no_banner --mode=jtag -o p;D:/8k4k/PRJ/output_files/sg245.sof@1
Info (213045): Using programming cable "USB-Blaster [USB-0]"
Info (213011): Using programming file D:/8k4k/PRJ/output_files/sg245.sof with checksum 0x0E1AD4F1 for device 10AX027H4F34@1
Info (209060): Started Programmer operation at Fri Oct 20 13:40:50 2017
Info (209016): Configuring device index 1
Info (209017): Device 1 contains JTAG ID code 0x02EE30DD
Info (209007): Configuration succeeded -- 1 device(s) configured
Info (209011): Successfully performed operation(s)
Info (209061): Ended Programmer operation at Fri Oct 20 13:42:06 2017
Info: Quartus Prime Programmer was successful. 0 errors, 0 warnings
    Info: Peak virtual memory: 718 megabytes
    Info: Processing ended: Fri Oct 20 13:42:06 2017
    Info: Elapsed time: 00:01:20
    Info: Total CPU time (on all processors): 00:00:05
Using cable "USB-Blaster [USB-0]", device 1, instance 0x00
Resetting and pausing target processor: OK
Initializing CPU cache (if present)
OK
Downloaded 88KB in 3.8s (23.1KB/s)
Verified OK
Starting processor at address 0x00020184
nios2-terminal: connected to hardware target using JTAG UART on cable
nios2-terminal: "USB-Blaster [USB-0]", device 1, instance 0
nios2-terminal: (Use the IDE stop button or Ctrl-C to terminate)

Started...
TX init
RX init
EDID SEND
HPD=0
HPD=1
00000000 [SNK] Req got    AUX_WR @ 0600 (DPCD) 80 06 00 00 01
00000309 [SNK] Reply sent AUX_ACK 00
00000191 [SNK] Req got    AUX_RD @ 0000 (DPCD_REV) 90 00 00 00
00000273 [SNK] Reply sent AUX_ACK 00 12
00000204 [SNK] Req got    AUX_RD @ 0021 ( ) 90 00 21 00
00000271 [SNK] Reply sent AUX_ACK 00 00
00000203 [SNK] Req got    AUX_RD @ 0111 ( ) 90 01 11 00
00000285 [SNK] Reply sent AUX_ACK 00 00
00000204 [SNK] Req got    AUX_WR @ 0111 ( ) 80 01 11 00 04
00000325 [SNK] Reply sent AUX_ACK 00
00000187 [SNK] Req got    AUX_RD @ 0500 ( ) 90 05 00 07
00000318 [SNK] Reply sent AUX_ACK 00 00 00 00 00 00 00 00 00
00000982 [SNK] Req got    AUX_RD @ 0600 (DPCD) 90 06 00 00
00000292 [SNK] Reply sent AUX_ACK 00 01
00000205 [SNK] Req got    AUX_WR @ 0600 (DPCD) 80 06 00 00 01
00000309 [SNK] Reply sent AUX_ACK 00
00000188 [SNK] Req got    AUX_RD @ 0000 (DPCD_REV) 90 00 00 0D
00000316 [SNK] Reply sent AUX_ACK 00 12 14 C4 41 01 01 01 80 02 00 06 00 00 00
00000415 [SNK] Req got    AUX_RD @ 000E ( ) 90 00 0E 00
00000273 [SNK] Reply sent AUX_ACK 00 00
00000209 [SNK] Req got    I2C_WR MOT=1 40 00 50
00000181 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000135 [SNK] Req got    I2C_WR MOT=1 40 00 50 00 00
00000221 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000134 [SNK] Req got    I2C_RD MOT=1 50 00 50
00000181 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000134 [SNK] Req got    I2C_RD MOT=1 50 00 50 03
00000213 [SNK] Reply sent AUX_ACK|I2C_ACK 00 00 FF FF FF
00000196 [SNK] Req got    I2C_RD MOT=0 10 00 50
00000180 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000212 [SNK] Req got    I2C_WR MOT=1 40 00 50
00000181 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000134 [SNK] Req got    I2C_WR MOT=1 40 00 50 00 00
00000221 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000134 [SNK] Req got    I2C_RD MOT=1 50 00 50
00000180 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000134 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000242 [SNK] Reply sent AUX_ACK|I2C_ACK 00 00 FF FF FF FF FF FF 00 4C 2D 80 0B 00 00 00 00
00000393 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000241 [SNK] Reply sent AUX_ACK|I2C_ACK 00 34 17 01 04 B5 3D 23 78 00 5F B1 A2 57 4F A2 28
00000393 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000242 [SNK] Reply sent AUX_ACK|I2C_ACK 00 0F 50 54 00 01 00 81 0F 81 19 81 80 81 8F A9 C0
00000392 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000241 [SNK] Reply sent AUX_ACK|I2C_ACK 00 B3 00 95 00 D1 00 4D D0 00 A0 F0 70 3E 80 30 20
00000392 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000241 [SNK] Reply sent AUX_ACK|I2C_ACK 00 35 00 5F 59 21 00 00 1A 26 68 00 A0 F0 70 3E 80
00000392 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000242 [SNK] Reply sent AUX_ACK|I2C_ACK 00 30 20 35 00 5F 59 21 00 00 1A 00 00 00 FD 00 38
00000392 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000242 [SNK] Reply sent AUX_ACK|I2C_ACK 00 78 1E 86 36 00 0A 20 20 20 20 20 20 00 00 00 FC
00000392 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000241 [SNK] Reply sent AUX_ACK|I2C_ACK 00 00 55 32 38 44 35 39 30 0A 20 20 20 20 20 00 E3
00000390 [SNK] Req got    I2C_RD MOT=0 10 00 50
00000181 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000337 [SNK] Req got    AUX_RD @ 0200 (SINK_COUNT) 90 02 00 00
00000281 [SNK] Reply sent AUX_ACK 00 01
00000223 [SNK] Req got    AUX_RD @ 0201 (DEVICE_SERVICE_IRQ_VECTOR) 90 02 01 00
00000296 [SNK] Reply sent AUX_ACK 00 00
00000204 [SNK] Req got    AUX_RD @ 68028 ( ) 96 80 28 00
00000288 [SNK] Reply sent AUX_ACK 00 00
00000202 [SNK] Req got    AUX_RD @ 6921D ( ) 96 92 1D 02
00000308 [SNK] Reply sent AUX_ACK 00 00 00 00
00000238 [SNK] Req got    AUX_RD @ 68028 ( ) 96 80 28 00
00000288 [SNK] Reply sent AUX_ACK 00 00
00000301 [SNK] Req got    I2C_WR MOT=1 40 00 40
00000182 [SNK] Reply sent AUX_ACK|I2C_NACK 40
00000135 [SNK] Req got    I2C_WR MOT=1 40 00 40 00 00
00000219 [SNK] Reply sent AUX_ACK|I2C_NACK 40
00000134 [SNK] Req got    I2C_RD MOT=1 50 00 40
00000182 [SNK] Reply sent AUX_ACK|I2C_NACK 40
00000132 [SNK] Req got    I2C_RD MOT=0 10 00 40
00000182 [SNK] Reply sent AUX_ACK|I2C_NACK 40
00569272 [SNK] Req got    AUX_RD @ 0600 (DPCD) 90 06 00 00
00000293 [SNK] Reply sent AUX_ACK 00 01
00000192 [SNK] Req got    AUX_WR @ 0600 (DPCD) 80 06 00 00 01
00000309 [SNK] Reply sent AUX_ACK 00
00002673 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000285 [SNK] Reply sent AUX_ACK 00 01
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 81
00000316 [SNK] Reply sent AUX_ACK 00
00001346 [SNK] Req got    AUX_WR @ 0100 (LINK_BW_SET) 80 01 00 00 14
00000320 [SNK] Reply sent AUX_ACK 00
00000245 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000286 [SNK] Reply sent AUX_ACK 00 81
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000316 [SNK] Reply sent AUX_ACK 00
00002288 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000347 [SNK] Reply sent AUX_ACK 00 77 77 81
01419161 [SNK] Req got    AUX_RD @ 0000 (DPCD_REV) 90 00 00 00
00000273 [SNK] Reply sent AUX_ACK 00 12
```

# 3 training 失败

```
yupc@LAPTOP-KVT1COMT /cygdrive/d/8k4k/PRJ/t17_a10_dp_vip_std_project/script
$ ./rerun.sh

Info: *******************************************************************
Info: Running Quartus Prime Programmer
Info: Command: quartus_pgm --no_banner --mode=jtag -o p;D:/8k4k/PRJ/output_files/sg245.sof@1
Info (213045): Using programming cable "USB-Blaster [USB-0]"
Info (213011): Using programming file D:/8k4k/PRJ/output_files/sg245.sof with checksum 0x0E2162EA for device 10AX027H4F34@1
Info (209060): Started Programmer operation at Wed Sep 27 14:07:25 2017
Info (209016): Configuring device index 1
Info (209017): Device 1 contains JTAG ID code 0x02EE30DD
Info (209007): Configuration succeeded -- 1 device(s) configured
Info (209011): Successfully performed operation(s)
Info (209061): Ended Programmer operation at Wed Sep 27 14:08:40 2017
Info: Quartus Prime Programmer was successful. 0 errors, 0 warnings
    Info: Peak virtual memory: 717 megabytes
    Info: Processing ended: Wed Sep 27 14:08:40 2017
    Info: Elapsed time: 00:01:19
    Info: Total CPU time (on all processors): 00:00:05
Using cable "USB-Blaster [USB-0]", device 1, instance 0x00
Resetting and pausing target processor: OK
Initializing CPU cache (if present)
OK
Downloaded 88KB in 3.8s (23.1KB/s)
Verified OK
Starting processor at address 0x00020184
nios2-terminal: connected to hardware target using JTAG UART on cable
nios2-terminal: "USB-Blaster [USB-0]", device 1, instance 0
nios2-terminal: (Use the IDE stop button or Ctrl-C to terminate)

Started...
00000000 [SNK] Req got    AUX_WR @ 0600 (DPCD) 80 06 00 00 01
00000308 [SNK] Reply sent AUX_ACK 00
00000190 [SNK] Req got    AUX_RD @ 0000 (DPCD_REV) 90 00 00 00
00000273 [SNK] Reply sent AUX_ACK 00 12
00000204 [SNK] Req got    AUX_RD @ 0021 ( ) 90 00 21 00
00000270 [SNK] Reply sent AUX_ACK 00 00
00000203 [SNK] Req got    AUX_RD @ 0111 ( ) 90 01 11 00
00000224 [SNK] Reply sent AUX_ACK 00 00
00000204 [SNK] Req got    AUX_WR @ 0111 ( ) 80 01 11 00 04
00000323 [SNK] Reply sent AUX_ACK 00
00000187 [SNK] Req got    AUX_RD @ 0500 ( ) 90 05 00 07
00000316 [SNK] Reply sent AUX_ACK 00 00 00 00 00 00 00 00 00
00000896 [SNK] Req got    AUX_RD @ 0600 (DPCD) 90 06 00 00
00000292 [SNK] Reply sent AUX_ACK 00 01
00000204 [SNK] Req got    AUX_WR @ 0600 (DPCD) 80 06 00 00 01
00000308 [SNK] Reply sent AUX_ACK 00
00000188 [SNK] Req got    AUX_RD @ 0000 (DPCD_REV) 90 00 00 0D
00000316 [SNK] Reply sent AUX_ACK 00 12 14 E4 01 01 01 01 80 02 00 06 00 00 00
00000415 [SNK] Req got    AUX_RD @ 000E ( ) 90 00 0E 00
00000273 [SNK] Reply sent AUX_ACK 00 00
00000211 [SNK] Req got    I2C_WR MOT=1 40 00 50
00000180 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000135 [SNK] Req got    I2C_WR MOT=1 40 00 50 00 00
00000222 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000135 [SNK] Req got    I2C_RD MOT=1 50 00 50
00000181 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000135 [SNK] Req got    I2C_RD MOT=1 50 00 50 03
00000213 [SNK] Reply sent AUX_ACK|I2C_ACK 00 00 FF FF FF
00000197 [SNK] Req got    I2C_RD MOT=0 10 00 50
00000180 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000203 [SNK] Req got    I2C_WR MOT=1 40 00 50
00000180 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000135 [SNK] Req got    I2C_WR MOT=1 40 00 50 00 00
00000221 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000135 [SNK] Req got    I2C_RD MOT=1 50 00 50
00000181 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000134 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000241 [SNK] Reply sent AUX_ACK|I2C_ACK 00 00 FF FF FF FF FF FF 00 4C 2D 80 0B 00 00 00 00
00000393 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000241 [SNK] Reply sent AUX_ACK|I2C_ACK 00 34 17 01 04 B5 3D 23 78 00 5F B1 A2 57 4F A2 28
00000392 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000241 [SNK] Reply sent AUX_ACK|I2C_ACK 00 0F 50 54 00 01 00 81 0F 81 19 81 80 81 8F A9 C0
00000393 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000241 [SNK] Reply sent AUX_ACK|I2C_ACK 00 B3 00 95 00 D1 00 4D D0 00 A0 F0 70 3E 80 30 20
00000393 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000241 [SNK] Reply sent AUX_ACK|I2C_ACK 00 35 00 5F 59 21 00 00 1A 26 68 00 A0 F0 70 3E 80
00000393 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000241 [SNK] Reply sent AUX_ACK|I2C_ACK 00 30 20 35 00 5F 59 21 00 00 1A 00 00 00 FD 00 38
00000392 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000242 [SNK] Reply sent AUX_ACK|I2C_ACK 00 78 1E 86 36 00 0A 20 20 20 20 20 20 00 00 00 FC
00000392 [SNK] Req got    I2C_RD MOT=1 50 00 50 0F
00000241 [SNK] Reply sent AUX_ACK|I2C_ACK 00 00 55 32 38 44 35 39 30 0A 20 20 20 20 20 00 E3
00000390 [SNK] Req got    I2C_RD MOT=0 10 00 50
00000181 [SNK] Reply sent AUX_ACK|I2C_ACK 00
00000324 [SNK] Req got    AUX_RD @ 0200 (SINK_COUNT) 90 02 00 00
00000281 [SNK] Reply sent AUX_ACK 00 01
00000221 [SNK] Req got    AUX_RD @ 0201 (DEVICE_SERVICE_IRQ_VECTOR) 90 02 01 00
00000296 [SNK] Reply sent AUX_ACK 00 00
00000204 [SNK] Req got    AUX_RD @ 68028 ( ) 96 80 28 00
00000288 [SNK] Reply sent AUX_ACK 00 00
00000202 [SNK] Req got    AUX_RD @ 6921D ( ) 96 92 1D 02
00000309 [SNK] Reply sent AUX_ACK 00 00 00 00
00000238 [SNK] Req got    AUX_RD @ 68028 ( ) 96 80 28 00
00000288 [SNK] Reply sent AUX_ACK 00 00
00000291 [SNK] Req got    I2C_WR MOT=1 40 00 40
00000182 [SNK] Reply sent AUX_ACK|I2C_NACK 40
00000135 [SNK] Req got    I2C_WR MOT=1 40 00 40 00 00
00000220 [SNK] Reply sent AUX_ACK|I2C_NACK 40
00000134 [SNK] Req got    I2C_RD MOT=1 50 00 40
00000181 [SNK] Reply sent AUX_ACK|I2C_NACK 40
00000132 [SNK] Req got    I2C_RD MOT=0 10 00 40
00000181 [SNK] Reply sent AUX_ACK|I2C_NACK 40
00536573 [SNK] Req got    AUX_RD @ 0600 (DPCD) 90 06 00 00
00000292 [SNK] Reply sent AUX_ACK 00 01
00000195 [SNK] Req got    AUX_WR @ 0600 (DPCD) 80 06 00 00 01
00000308 [SNK] Reply sent AUX_ACK 00
00002509 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000285 [SNK] Reply sent AUX_ACK 00 01
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 81
00000256 [SNK] Reply sent AUX_ACK 00
00001335 [SNK] Req got    AUX_WR @ 0100 (LINK_BW_SET) 80 01 00 00 14
00000319 [SNK] Reply sent AUX_ACK 00
00000131 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000284 [SNK] Reply sent AUX_ACK 00 81
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000315 [SNK] Reply sent AUX_ACK 00
00000149 [SNK] Req got    AUX_WR @ 0102 (TRAINING_PATTERN_SET) 80 01 02 00 21
00000313 [SNK] Reply sent AUX_ACK 00
00000132 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 00 00 00 00
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000350 [SNK] Reply sent AUX_ACK 00 00 00 00
00000195 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000358 [SNK] Reply sent AUX_ACK 00 11
00000147 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000354 [SNK] Reply sent AUX_ACK 00 11
00000148 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 01 01 01 01
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000350 [SNK] Reply sent AUX_ACK 00 00 00 00
00000179 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000358 [SNK] Reply sent AUX_ACK 00 22
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000354 [SNK] Reply sent AUX_ACK 00 22
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 06 06 06 06
00000361 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000350 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000357 [SNK] Reply sent AUX_ACK 00 22
00000147 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000357 [SNK] Reply sent AUX_ACK 00 22
00000310 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000286 [SNK] Reply sent AUX_ACK 00 84
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000315 [SNK] Reply sent AUX_ACK 00
00001334 [SNK] Req got    AUX_WR @ 0100 (LINK_BW_SET) 80 01 00 00 0A
00000318 [SNK] Reply sent AUX_ACK 00
00000130 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000285 [SNK] Reply sent AUX_ACK 00 84
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000316 [SNK] Reply sent AUX_ACK 00
00000132 [SNK] Req got    AUX_WR @ 0102 (TRAINING_PATTERN_SET) 80 01 02 00 21
00000312 [SNK] Reply sent AUX_ACK 00
00000132 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 00 00 00 00
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000350 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000358 [SNK] Reply sent AUX_ACK 00 11
00000147 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000354 [SNK] Reply sent AUX_ACK 00 11
00000148 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 01 01 01 01
00000363 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000350 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000358 [SNK] Reply sent AUX_ACK 00 22
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000354 [SNK] Reply sent AUX_ACK 00 22
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 06 06 06 06
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000358 [SNK] Reply sent AUX_ACK 00 22
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000357 [SNK] Reply sent AUX_ACK 00 22
00000304 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000285 [SNK] Reply sent AUX_ACK 00 84
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000316 [SNK] Reply sent AUX_ACK 00
00001334 [SNK] Req got    AUX_WR @ 0100 (LINK_BW_SET) 80 01 00 00 06
00000320 [SNK] Reply sent AUX_ACK 00
00000131 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000285 [SNK] Reply sent AUX_ACK 00 84
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000316 [SNK] Reply sent AUX_ACK 00
00000132 [SNK] Req got    AUX_WR @ 0102 (TRAINING_PATTERN_SET) 80 01 02 00 21
00000313 [SNK] Reply sent AUX_ACK 00
00000132 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 00 00 00 00
00000363 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000179 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000358 [SNK] Reply sent AUX_ACK 00 11
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000354 [SNK] Reply sent AUX_ACK 00 11
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 01 01 01 01
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000350 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000358 [SNK] Reply sent AUX_ACK 00 22
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000354 [SNK] Reply sent AUX_ACK 00 22
00000148 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 06 06 06 06
00000361 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000350 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000358 [SNK] Reply sent AUX_ACK 00 22
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000357 [SNK] Reply sent AUX_ACK 00 22
00000148 [SNK] Req got    AUX_WR @ 0102 (TRAINING_PATTERN_SET) 80 01 02 00 00
00000311 [SNK] Reply sent AUX_ACK 00
00057472 [SNK] Req got    AUX_RD @ 0600 (DPCD) 90 06 00 00
00000206 [SNK] Reply sent AUX_ACK 00 01
00000148 [SNK] Req got    AUX_WR @ 0600 (DPCD) 80 06 00 00 01
00000245 [SNK] Reply sent AUX_ACK 00
00000429 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000285 [SNK] Reply sent AUX_ACK 00 84
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000314 [SNK] Reply sent AUX_ACK 00
00001336 [SNK] Req got    AUX_WR @ 0100 (LINK_BW_SET) 80 01 00 00 14
00000319 [SNK] Reply sent AUX_ACK 00
00000130 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000285 [SNK] Reply sent AUX_ACK 00 84
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000316 [SNK] Reply sent AUX_ACK 00
00000132 [SNK] Req got    AUX_WR @ 0102 (TRAINING_PATTERN_SET) 80 01 02 00 21
00000312 [SNK] Reply sent AUX_ACK 00
00000132 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 00 00 00 00
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000359 [SNK] Reply sent AUX_ACK 00 44
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000359 [SNK] Reply sent AUX_ACK 00 44
00000148 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 08 08 08 08
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000350 [SNK] Reply sent AUX_ACK 00 00 00 00
00000179 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000358 [SNK] Reply sent AUX_ACK 00 55
00000147 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000355 [SNK] Reply sent AUX_ACK 00 55
00000148 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 09 09 09 09
00000361 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000179 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000358 [SNK] Reply sent AUX_ACK 00 66
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000354 [SNK] Reply sent AUX_ACK 00 66
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 0E 0E 0E 0E
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000179 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000355 [SNK] Reply sent AUX_ACK 00 66
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000356 [SNK] Reply sent AUX_ACK 00 66
00000306 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000286 [SNK] Reply sent AUX_ACK 00 84
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000316 [SNK] Reply sent AUX_ACK 00
00001335 [SNK] Req got    AUX_WR @ 0100 (LINK_BW_SET) 80 01 00 00 0A
00000318 [SNK] Reply sent AUX_ACK 00
00000130 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000285 [SNK] Reply sent AUX_ACK 00 84
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000316 [SNK] Reply sent AUX_ACK 00
00000132 [SNK] Req got    AUX_WR @ 0102 (TRAINING_PATTERN_SET) 80 01 02 00 21
00000313 [SNK] Reply sent AUX_ACK 00
00000131 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 00 00 00 00
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000179 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000360 [SNK] Reply sent AUX_ACK 00 44
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000360 [SNK] Reply sent AUX_ACK 00 44
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 08 08 08 08
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000358 [SNK] Reply sent AUX_ACK 00 55
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000354 [SNK] Reply sent AUX_ACK 00 55
00000148 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 09 09 09 09
00000363 [SNK] Reply sent AUX_ACK 00
00000330 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000358 [SNK] Reply sent AUX_ACK 00 66
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000355 [SNK] Reply sent AUX_ACK 00 66
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 0E 0E 0E 0E
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000356 [SNK] Reply sent AUX_ACK 00 66
00000147 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000356 [SNK] Reply sent AUX_ACK 00 66
00000305 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000285 [SNK] Reply sent AUX_ACK 00 84
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000316 [SNK] Reply sent AUX_ACK 00
00001334 [SNK] Req got    AUX_WR @ 0100 (LINK_BW_SET) 80 01 00 00 06
00000320 [SNK] Reply sent AUX_ACK 00
00000131 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000286 [SNK] Reply sent AUX_ACK 00 84
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000315 [SNK] Reply sent AUX_ACK 00
00000132 [SNK] Req got    AUX_WR @ 0102 (TRAINING_PATTERN_SET) 80 01 02 00 21
00000313 [SNK] Reply sent AUX_ACK 00
00000131 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 00 00 00 00
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000350 [SNK] Reply sent AUX_ACK 00 00 00 00
00000179 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000359 [SNK] Reply sent AUX_ACK 00 44
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000359 [SNK] Reply sent AUX_ACK 00 44
00000148 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 08 08 08 08
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000179 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000359 [SNK] Reply sent AUX_ACK 00 55
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000354 [SNK] Reply sent AUX_ACK 00 55
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 09 09 09 09
00000361 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000350 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000358 [SNK] Reply sent AUX_ACK 00 66
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000354 [SNK] Reply sent AUX_ACK 00 66
00000148 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 0E 0E 0E 0E
00000362 [SNK] Reply sent AUX_ACK 00
00000386 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000350 [SNK] Reply sent AUX_ACK 00 00 00 00
00000179 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000356 [SNK] Reply sent AUX_ACK 00 66
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000356 [SNK] Reply sent AUX_ACK 00 66
00000148 [SNK] Req got    AUX_WR @ 0102 (TRAINING_PATTERN_SET) 80 01 02 00 00
00000312 [SNK] Reply sent AUX_ACK 00
00029526 [SNK] Req got    AUX_RD @ 0600 (DPCD) 90 06 00 00
00000280 [SNK] Reply sent AUX_ACK 00 01
00000148 [SNK] Req got    AUX_WR @ 0600 (DPCD) 80 06 00 00 01
00000300 [SNK] Reply sent AUX_ACK 00
00000426 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000284 [SNK] Reply sent AUX_ACK 00 84
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000315 [SNK] Reply sent AUX_ACK 00
00001334 [SNK] Req got    AUX_WR @ 0100 (LINK_BW_SET) 80 01 00 00 14
00000319 [SNK] Reply sent AUX_ACK 00
00000130 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000285 [SNK] Reply sent AUX_ACK 00 84
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000315 [SNK] Reply sent AUX_ACK 00
00000132 [SNK] Req got    AUX_WR @ 0102 (TRAINING_PATTERN_SET) 80 01 02 00 21
00000312 [SNK] Reply sent AUX_ACK 00
00000132 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 00 00 00 00
00000363 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000350 [SNK] Reply sent AUX_ACK 00 00 00 00
00000179 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000360 [SNK] Reply sent AUX_ACK 00 88
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000359 [SNK] Reply sent AUX_ACK 00 88
00000148 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 10 10 10 10
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000359 [SNK] Reply sent AUX_ACK 00 99
00000147 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000354 [SNK] Reply sent AUX_ACK 00 99
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 11 11 11 11
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000350 [SNK] Reply sent AUX_ACK 00 00 00 00
00000179 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000356 [SNK] Reply sent AUX_ACK 00 99
00000147 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000354 [SNK] Reply sent AUX_ACK 00 99
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 11 11 11 11
00000362 [SNK] Reply sent AUX_ACK 00
00000335 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000350 [SNK] Reply sent AUX_ACK 00 00 00 00
00000179 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000355 [SNK] Reply sent AUX_ACK 00 99
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000356 [SNK] Reply sent AUX_ACK 00 99
00000148 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 11 11 11 11
00000363 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000356 [SNK] Reply sent AUX_ACK 00 99
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000355 [SNK] Reply sent AUX_ACK 00 99
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 11 11 11 11
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000179 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000355 [SNK] Reply sent AUX_ACK 00 99
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000355 [SNK] Reply sent AUX_ACK 00 99
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 11 11 11 11
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000179 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000355 [SNK] Reply sent AUX_ACK 00 99
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000355 [SNK] Reply sent AUX_ACK 00 99
00000303 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000286 [SNK] Reply sent AUX_ACK 00 84
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000316 [SNK] Reply sent AUX_ACK 00
00001334 [SNK] Req got    AUX_WR @ 0100 (LINK_BW_SET) 80 01 00 00 0A
00000318 [SNK] Reply sent AUX_ACK 00
00000130 [SNK] Req got    AUX_RD @ 0101 (LANE_COUNT_SET) 90 01 01 00
00000285 [SNK] Reply sent AUX_ACK 00 84
00000147 [SNK] Req got    AUX_WR @ 0101 (LANE_COUNT_SET) 80 01 01 00 84
00000316 [SNK] Reply sent AUX_ACK 00
00000132 [SNK] Req got    AUX_WR @ 0102 (TRAINING_PATTERN_SET) 80 01 02 00 21
00000312 [SNK] Reply sent AUX_ACK 00
00000131 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 00 00 00 00
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000360 [SNK] Reply sent AUX_ACK 00 88
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000359 [SNK] Reply sent AUX_ACK 00 88
00000148 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 10 10 10 10
00000361 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000358 [SNK] Reply sent AUX_ACK 00 99
00000147 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000354 [SNK] Reply sent AUX_ACK 00 99
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 11 11 11 11
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000356 [SNK] Reply sent AUX_ACK 00 99
00000169 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000355 [SNK] Reply sent AUX_ACK 00 99
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 11 11 11 11
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000355 [SNK] Reply sent AUX_ACK 00 99
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000354 [SNK] Reply sent AUX_ACK 00 99
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 11 11 11 11
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000350 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000356 [SNK] Reply sent AUX_ACK 00 99
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000355 [SNK] Reply sent AUX_ACK 00 99
00000148 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 11 11 11 11
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00
00000355 [SNK] Reply sent AUX_ACK 00 99
00000146 [SNK] Req got    AUX_RD @ 0207 (ADJUST_REQUEST_LANE2_3) 90 02 07 00
00000355 [SNK] Reply sent AUX_ACK 00 99
00000147 [SNK] Req got    AUX_WR @ 0103 (TRAINING_LANE0_SET) 80 01 03 03 11 11 11 11
00000362 [SNK] Reply sent AUX_ACK 00
00000331 [SNK] Req got    AUX_RD @ 0202 (LANE0_1_STATUS) 90 02 02 02
00000351 [SNK] Reply sent AUX_ACK 00 00 00 00
00000178 [SNK] Req got    AUX_RD @ 0206 (ADJUST_REQUEST_LANE0_1) 90 02 06 00

nios2-terminal: exiting due to I/O error communicating with target
```
## 补充
调试可能出现的错误：
```
yupc@LAPTOP-KVT1COMT /cygdrive/d/8k4k/PRJ/t17_a10_dp_vip_std_project/script
$ ./rerun.sh

Info: *******************************************************************
Info: Running Quartus Prime Programmer
Info: Command: quartus_pgm --no_banner --mode=jtag -o p;D:/8k4k/PRJ/output_files/sg245.sof@1
Info (213045): Using programming cable "USB-Blaster [USB-0]"
Info (213011): Using programming file D:/8k4k/PRJ/output_files/sg245.sof with checksum 0x0E19EA85 for device 10AX027H4F34@1
Info (209060): Started Programmer operation at Thu Oct 19 15:53:00 2017
Info (209016): Configuring device index 1
Info (209017): Device 1 contains JTAG ID code 0x02EE30DD
Info (209007): Configuration succeeded -- 1 device(s) configured
Info (209011): Successfully performed operation(s)
Info (209061): Ended Programmer operation at Thu Oct 19 15:54:17 2017
Info: Quartus Prime Programmer was successful. 0 errors, 0 warnings
    Info: Peak virtual memory: 716 megabytes
    Info: Processing ended: Thu Oct 19 15:54:17 2017
    Info: Elapsed time: 00:01:21
    Info: Total CPU time (on all processors): 00:00:05
Using cable "USB-Blaster [USB-0]", device 1, instance 0x00
Resetting and pausing target processor: FAILED
Leaving target processor paused
failed to download the software .elf file
```
FPGA程序下载完成，NIOS II复位暂停失败。问题与时钟与复位信号有关，检查这两个信号设置是否合适。